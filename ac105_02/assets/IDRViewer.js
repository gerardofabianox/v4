var IDRViewer=function(){var v={View:{MultiFile:0,SplitSpreads:1,SingleFile:2,IDR:3}},k=1,u=0,w=0,c=0,p=0,pa=0,g,n,r,q,Q=[],aa,B,ha=!0,qa,F,m=v.View,H=m.MultiFile,A,D,ba,R,ca,ra,K,da,ia,ea,G,L,sa,ta,ua,va,ja,S,T,U,ka,wa,xa,M={},t;v.makeNavBar=function(a,b,d,e){aa=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);/iPhone|iPad|iPod/i.test(navigator.userAgent);F=!e;t=d;n=h("contentContainer");r=h("mainContent");p=a;h("pgCount").innerHTML="/"+p;A=h("goBtn");D=
h("zoomBtn");ba=h("btnFullscreen");R=h("btnOutlines");ca=h("btnThumbnails");ra=h("btnPrev");h("btnNext");K=h("btnMove");da=h("btnSelect");ia=h("btnZoomIn");ea=h("btnZoomOut");S=0;T=1;L=0;sa=1;ta=2;ua=3;va=4;B=ja=5;g=h("jpedal");N.setup(t,b);document.fullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled?(V("fullscreenchange",document,la),V("MSFullscreenChange",document,la),V("mozfullscreenchange",document,la),V("webkitfullscreenchange",document,
la)):ba.parentNode.removeChild(ba);this.setSelectMode(S);a=Ba("page");a=""!=a?parseInt(a):1;if(aa){D.parentNode.removeChild(D);K.parentNode.removeChild(K);da.parentNode.removeChild(da);ia.parentNode.removeChild(ia);ea.parentNode.removeChild(ea);r.style.overflow="hidden";O.setup(a);var f=window.innerWidth,y=window.innerHeight;d=function(){setTimeout(function(){if(f!==window.innerWidth||y!==window.innerHeight)n.innerHTML="",k=1,f=window.innerWidth,y=window.innerHeight,O.setup(c)},300)};window.onorientationchange=
d;window.onresize=d}else{for(b=0;b<p;b++)if(d[b][0]!=d[0][0]||d[b][1]!=d[0][1]){ha=!1;break}ha&&!qa&&(G=document.createElement("select"),G.id="viewBtn",d=document.createElement("option"),d.text="Single Pages",G.appendChild(d),d=document.createElement("option"),d.text="Magazine",G.appendChild(d),d=document.createElement("option"),d.text="Continuous",G.appendChild(d),G.onchange=Ca,h("mainNav").appendChild(G),G.selectedIndex=H);M.setViewMode(H);ha&&H===m.SplitSpreads?P.setup(a):ha&&H===m.SingleFile?
W.setup(a):X.setup(a);B=ja;D.selectedIndex=B;window.onresize=E}};var N=function(){var a={},b=[],d=0,e,f,y,g=!1,l=!1;a.setup=function(a,d){f=h("leftContent");e=h("left");y=d;n(a);for(var c=0;c<p;c++)b[c]=!1;l=g=!1;V("scroll",f,za);c=document.createElement("script");c.setAttribute("src","bookmarks/bookmarks.js");c.setAttribute("onload","IDRViewer.setBookmarks(bookmarks);");c.onreadystatechange=function(){"complete"==this.readyState&&IDRViewer.setBookmarks(bookmarks)};(document.head||document.getElementsByTagName("head")[0]).appendChild(c)};
a.toggleThumbnails=function(){g?(e.style.width="0",e.style.left="-20px"):(k(-1),e.style.width="200px",e.style.left="0",za());g=!g};a.toggleOutlines=function(a){l&&!a?(h("thumbnailPanel").style.display="inline",h("outlinePanel").style.display="none",f.scrollTop=h("thumb"+c).getBoundingClientRect().top-80,l=!l,ca.className="inactive navBtn",R.className="navBtn"):a&&"inactive navBtn"!=R.className&&(h("thumbnailPanel").style.display="none",h("outlinePanel").style.display="inline",l=!l,ca.className="navBtn",
R.className="inactive navBtn")};var n=function(a){for(var b=[],c=0;c<p;c++){var d=Math.floor(160/a[c][0]*a[c][1]);b[c]=a[c][0]>a[c][1]||200>=d?d:200}for(a=1;a<=p;a++)c=document.createElement("a"),c.style.height=b[a-1]+"px",c.className="thumbnail",c.href="?page="+a,c.id="thumb"+a,c.setAttribute("onclick","IDRViewer.goToPage("+a+"); return false;"),c.setAttribute("title","Page "+a),c.innerHTML='<img src="assets/loading.gif"/>',f.children[0].appendChild(c)},za=function(a){var b=f.scrollTop;d=b;setTimeout(function(){k(b)},
500)},k=function(a){if(a==d||-1==a)for(a=0;a<p;a++)if(!b[a]){var c=f.children[0].children[a];if(c.offsetTop>f.scrollTop+f.clientHeight)break;c.offsetTop+c.clientHeight>f.scrollTop&&(c=a,b[c]||(f.children[0].children[c].children[0].setAttribute("src","thumbnails/"+(c+1)+y),b[c]=!0))}};a.scrollToPage=function(a){a=h("thumb"+a);if("thumbnail currentPageThumbnail"!=a.className){for(var b=1;b<=p;b++)h("thumb"+b).className="thumbnail";a.className="thumbnail currentPageThumbnail";f.scrollTop=f.scrollTop+
a.getBoundingClientRect().top-80}};a.setBookmarks=function(a){h("leftContent").style.top="40px";h("leftNav").style.display="block";m(h("outlinePanel"),a);l?ca.className="navBtn":R.className="navBtn"};var m=function(a,b){for(var c=document.createElement("ul"),d=0;d<b.length;d++)(function(){var a=b[d],e=document.createElement("li");e.setAttribute("title","Page "+a.page);e.innerHTML=a.title;e.onclick=function(){IDRViewer.goToPage(parseInt(a.page))};c.appendChild(e);"undefined"!=typeof a.children&&m(c,
a.children)})();a.appendChild(c)};return a}(),Aa=function(){A.style.width="65px";A.innerHTML="";var a=document.createElement("option");a.value=1;a.innerHTML="1";A.appendChild(a);for(var b,d=2;d<=p;d+=2)a=document.createElement("option"),a.value=d,b=d!==p||1===p%2?String(d+"-"+(d+1)):String(d),a.innerHTML=b,A.appendChild(a);A.selectedIndex=c/2},na=function(){A.innerHTML="";for(var a=1;a<=p;a++){var b=document.createElement("option");b.value=a;b.innerHTML=String(a);A.appendChild(b)}A.selectedIndex=
c-1},C={applyTransform:function(a,b){a.style.webkitTransform=b;a.style.mozTransform=b;a.style.msTransform=b;a.style.oTransform=b;a.style.transform=b},applyTransformOrigin:function(a,b){a.style.webkitTransformOrigin=b;a.style.mozTransformOrigin=b;a.style.msTransformOrigin=b;a.style.oTransformOrigin=b;a.style.transformOrigin=b},applyTransitionDuration:function(a,b){a.style.webkitTransitionDuration=b;a.style.mozTransitionDuration=b;a.style.msTransitionDuration=b;a.style.oTransitionDuration=b;a.style.transitionDuration=
b}},P=function(){var a={},b,d,e,f,y;a.setup=function(c){q=m.SplitSpreads;Aa();u=t[0][0];w=t[0][1];b=u;window.onpopstate=function(b){a.goToPage(b.state.page,!1)};a.goToPage(c,!1)};a.goToPage=function(a,d){a>p&&(a=p);1!==a&&0!==a%2&&--a;g.parentNode.removeChild(g);f=e=void 0;M.setPage(a);N.scrollToPage(c);u=b;1<c&&c<p&&(u*=2);n.style.width=u+"px";var l="container"+c;A.selectedIndex=c/2;d&&window.history.pushState({page:c},null,"?page="+c);g=document.createElement("div");g.id=l;g.style.width=u+"px";
n.appendChild(g);C.applyTransformOrigin(g,"top left");g.style.margin="0";E();if(F)e=document.createElement("object"),e.setAttribute("width",""+b),e.setAttribute("height",""+w),e.setAttribute("data",c+".svg"),e.setAttribute("type","image/svg+xml"),g.appendChild(e),E();else{var m=function(){y||(k(),y=!0);var a=document.createElement("iframe");a.setAttribute("src",c+".html");a.setAttribute("style","width: "+b+"px; height: "+w+"px; position: absolute; border: 0;");a.onload=function(){e=a};g.appendChild(a)};
$.ajax({url:c+".html",success:function(a){try{var b=$("<div />").html(a).find("#jpedal").attr("id","page"+c).css({position:"absolute"});$(g).append(b);setTimeout(function(){var a=function(){window["load"+c]()};setTimeout(a,1E3);a();if("file:"==window.location.protocol){var a=h("fonts"+c),b=document.createElement("style");b.setAttribute("type","text/css");b.innerHTML=a.innerHTML;g.appendChild(b)}},1)}catch(d){m()}},error:m})}if(1!=c&&c!=p)if(F)f=document.createElement("object"),f.setAttribute("width",
""+b),f.setAttribute("height",""+w),f.setAttribute("data",c+1+".svg"),f.setAttribute("type","image/svg+xml"),f.setAttribute("style","position: absolute; left: "+b+"px;"),g.appendChild(f),E();else{var ya=function(){y||(k(),y=!0);var a=document.createElement("iframe");a.setAttribute("src",c+1+".html");a.setAttribute("style","width: "+b+"px; height: "+w+"px; position: absolute; border: 0; left: "+b+"px;");a.onload=function(){f=a};g.appendChild(a)};$.ajax({url:c+1+".html",success:function(a){try{var d=
$("<div />").html(a).find("#jpedal").attr("id","page"+(c+1)).css({position:"absolute",left:b});$(g).append(d);setTimeout(function(){var a=function(){window["load"+(c+1)]()};setTimeout(a,1E3);a();if("file:"==window.location.protocol){var a=h("fonts"+(c+1)),b=document.createElement("style");b.setAttribute("type","text/css");b.innerHTML=a.innerHTML;g.appendChild(b)}},1)}catch(e){ya()}},error:ya})}};var k=function(){Y.currentSelectMode==T?a.enablePanning():a.enableTextSelection()};a.enableTextSelection=
function(){if(y||F)l(),d.style.visibility="hidden"};a.enablePanning=function(){if(y||F)"undefined"!=typeof e&&Z(e.contentWindow),"undefined"!=typeof f&&Z(f.contentWindow),l(),d.style.visibility="visible"};var l=function(){"undefined"==typeof d&&(d=document.createElement("div"),d.id="jpedalOverlay",d.setAttribute("style","width: inherit; height: inherit; position: absolute; z-index: 10; visibility: hidden;"),n.insertBefore(d,n.firstChild))};return a}(),X=function(){var a={},b,d,e;a.setup=function(b){q=
m.MultiFile;na();window.onpopstate=function(b){a.goToPage(b.state.page,!1)};a.goToPage(b,!1)};a.goToPage=function(d,f){g.parentNode.removeChild(g);b=void 0;M.setPage(d);N.scrollToPage(c);u=t[c-1][0];w=t[c-1][1];n.style.width=u+"px";n.style.height=w+"px";r.scrollTop=0;A.selectedIndex=c-1;f&&window.history.pushState({page:c},null,"?page="+c);if(F)g=document.createElement("object"),g.setAttribute("width",""+u),g.setAttribute("height",""+w),g.setAttribute("data",c+".svg"),g.setAttribute("type","image/svg+xml"),
g.setAttribute("id","jpedal"),n.appendChild(g),b=g,C.applyTransformOrigin(g,"top left"),E();else{var l=function(){e||(Y.currentSelectMode==T?a.enablePanning():a.enableTextSelection(),e=!0);g=document.createElement("iframe");g.setAttribute("id","jpedal");g.setAttribute("src",c+".html");g.setAttribute("style","width: "+u+"px; height: "+w+"px; position: relative; border: 0;");g.onload=function(){b=g};n.appendChild(g);C.applyTransformOrigin(g,"top left");E()};$.ajax({url:c+".html",success:function(a){try{var b=
$("<div />").html(a).find("#jpedal").css({margin:"0",overflow:"hidden",position:"relative"});$(n).append(b);setTimeout(function(){g=h("jpedal");C.applyTransformOrigin(g,"top left");E();var a=function(){window["load"+c]()};setTimeout(a,1E3);a();if("file:"==window.location.protocol){var a=h("fonts"+c),b=document.createElement("style");b.setAttribute("type","text/css");b.innerHTML=a.innerHTML;a.parentNode.removeChild(a);h("jpedal").appendChild(b)}},1)}catch(d){l()}},error:l})}};a.enableTextSelection=
function(){if(e||F)f(),d.style.visibility="hidden"};a.enablePanning=function(){if(e||F)"undefined"!=typeof b&&Z(b.contentWindow),f(),d.style.visibility="visible"};var f=function(){"undefined"==typeof d&&(d=document.createElement("div"),d.id="jpedalOverlay",d.setAttribute("style","width: inherit; height: inherit; position: absolute; z-index: 10; visibility: hidden;"),n.insertBefore(d,n.firstChild))};return a}(),W=function(){var a={},b=[],d=0,e,f,y;a.setup=function(c){q=m.SingleFile;na();e=[];window.onpopstate=
function(b){a.goToPage(b.state.page,!1)};C.applyTransformOrigin(g,"top left");w=0;u=t[0][0];for(var d=0;d<p;d++){b[d]=!1;var f=document.createElement("div");f.id="page"+(d+1);f.setAttribute("style","position:relative; width:990px; height:1185px; overflow: hidden; background-color: white; margin: 0 auto 10px;");g.appendChild(f);w+=t[d][1]+10}n.style.height=w+"px";r.onscroll=k;a.goToPage(c,!1)};var k=function(a){var e=window.pageYOffset;d=e;setTimeout(function(){if(e==d){if(0<h("page1").getBoundingClientRect().top)M.setPage(1),
A.selectedIndex=c-1;else for(var a=1;a<=p;a++){var f=h("page"+a).getBoundingClientRect(),g=f.top,f=f.bottom-f.top;if(g<=.25*f&&g>.5*-f){M.setPage(a);A.selectedIndex=c-1;break}}N.scrollToPage(c);for(a=1;a<=p;a++)b[a]||(f=h("page"+a),g=f.getBoundingClientRect().top,g<=f.clientHeight&&g>=-f.clientHeight&&l(a))}},250)};a.goToPage=function(a,c){r.scrollTop=r.scrollTop+h("page"+a).getBoundingClientRect().top-45;b[a]||l(a)};var l=function(c){b[c]=!0;if(F){var d=document.createElement("object");d.setAttribute("width",
""+t[c-1][0]);d.setAttribute("height",""+t[c-1][1]);d.setAttribute("data",c+".svg");d.setAttribute("type","image/svg+xml");e[c-1]=d;h("page"+c).appendChild(d)}else{var g=function(){f||(Y.currentSelectMode==T?a.enablePanning():a.enableTextSelection(),f=!0);var b=document.createElement("iframe");b.setAttribute("src",c+".html");b.setAttribute("style","width: "+t[c-1][0]+"px; height: "+t[c-1][1]+"px; position: relative; border: 0;");e[c-1]=b;h("page"+c).appendChild(b)};$.ajax({url:c+".html",success:function(a){try{var b=
$("<div />").html(a).find("#jpedal").html();$("#page"+c).html(b);setTimeout(function(){var a=function(){window["load"+c]()};setTimeout(a,1E3);a();if("file:"==window.location.protocol){var a=h("fonts"+c),b=document.createElement("style");b.setAttribute("type","text/css");b.innerHTML=a.innerHTML;a.parentNode.removeChild(a);h("jpedal").appendChild(b)}},1)}catch(d){g()}},error:g})}};a.enableTextSelection=function(){if(f||F)x(),y.style.visibility="hidden"};a.enablePanning=function(){if(f||F){for(var a=
0;a<e.length;a++)"undefined"!=typeof e[a]&&Z(e[a].contentWindow);x();y.style.visibility="visible"}};var x=function(){"undefined"==typeof y&&(y=document.createElement("div"),y.id="jpedalOverlay",y.setAttribute("style","width: inherit; height: inherit; position: absolute; z-index: 10; visibility: hidden;"),n.insertBefore(y,n.firstChild))};return a}(),O=function(){var a={},b=[],d=[],e=[],f,g,q,l=0,x=0,u,v,w=0,B,D,E,G,z,N=!1;a.next=function(){this.goToPage(z?c+2:c+1,!0,!0)};a.prev=function(){this.goToPage(c-
1,!0,!0)};a.setup=function(c){var d;n.removeAttribute("style");n.style.overflow="visible";n.style.padding="0";n.style.margin="0";n.style.webkitBackfaceVisibility="hidden";n.style.webkitPerspective="1000";N||(r.addEventListener("touchstart",ja),r.addEventListener("touchmove",ka),r.addEventListener("touchend",la),N=!0);z=window.innerWidth>window.innerHeight;M.setViewMode(m.IDR,z?"landscape":"portrait");ha||(z=!1);z?Aa():na();for(d=1;d<=p;d++)b[d]=!1;window.onpopstate=function(b){b.state&&a.goToPage(b.state.page,
b.state.slide,!1)};setTimeout(function(){a.goToPage(c,!1,!1)},0)};var L=!1,H=!1,fa,R,K=!1,da,S,T,U,V,O,P,W,X,Y,Z,Q,I,J,aa,ba,ca,ja=function(a){B=L=!1;1!==a.touches.length||K||1!==k||(R=a.touches[0].clientX,S=a.touches[0].clientX,T=a.touches[0].clientY,U=S,V=T,L=!0,da=Date.now());aa&&(ba=!0);1===a.touches.length&&1<k&&(D=a.touches[0].clientX,E=a.touches[0].clientY,G=!0,O=x,P=l,W=O,X=P,Y=Date.now(),Z=Date.now(),Q||(Q=setInterval(function(){O=W;P=X;W=x;X=l;Z=Y;Y=Date.now()},200)));if(2===a.touches.length&&
!H){B=!0;G=!1;oa(c);var b=a.touches[0].clientX-f,d=a.touches[1].clientX-f,e=a.touches[0].clientY;a=a.touches[1].clientY;q=Math.sqrt(Math.pow(Math.abs(b-d),2)+Math.pow(Math.abs(e-a),2));u=b-(b-d)/2;v=e-(e-a)/2}},ka=function(a){a.preventDefault();a.stopPropagation();if(1===a.touches.length&&L&&1===k){H=!0;var b=R-a.touches[0].clientX;0!==b&&(R=a.touches[0].clientX,U=a.touches[0].clientX,V=a.touches[0].clientY,fa-=b,C.applyTransform(n,"translate3d("+fa+"px, 0, 0)"))}else if(1===a.touches.length&&G){ca=
!0;b=a.touches[0].clientX;a=a.touches[0].clientY;var c=a-E;x+=b-D;l+=c;D=b;E=a;ea();requestAnimationFrame(function(){ma(x,l,k,!0)},h("main"))}else if(2===a.touches.length&&!K&&a.cancelable&&B&&!H&&(w=(w+1)%2,1!==w)){var d=a.touches[0].clientX-f,e=a.touches[1].clientX-f,c=a.touches[0].clientY,g=a.touches[1].clientY;a=Math.sqrt(Math.pow(Math.abs(d-e),2)+Math.pow(Math.abs(c-g),2));b=a/q;1>k*b&&(k=b=1);4<k*b&&(b=1);k*=b;d-=(d-e)/2;c-=(c-g)/2;x=x+d-u;l=l+c-v;e=-x+d;x-=e*b-e;e=-l+c;l-=e*b-e;ea();u=d;v=
c;requestAnimationFrame(function(){ma(x,l,k,!0)},h("main"));q=a}},la=function(b){var d;if(0===b.touches.length){if(H){var e=H=!1;300>Date.now()-da&&(b=S-U,d=T-V,100<Math.abs(b)&&Math.abs(b)>.25*Math.abs(d)&&(e=!0,0<b?a.next():a.prev()));e||(b=-window.innerWidth*(c-1),z&&(b=-window.innerWidth*Math.floor(c/2)),fa>b+window.innerWidth/2?a.prev():fa<b-window.innerWidth/2?a.next():a.goToPage(c,!0,!1))}clearInterval(Q);Q=null;ca&&(ca=!1,e=Date.now()-Z,b=O-x,d=P-l,I=b/(e/16),J=d/(e/16),.5>Math.abs(I)&&(I=
0),.5>Math.abs(J)&&(J=0),0===I&&0===J||window.requestAnimationFrame(ia,h("main")))}},ia=function(){aa=!0;!ba&&(-.5>I||.5<I||-.5>J||.5<J)?(x-=I,l-=J,I*=.95,J*=.95,ea(),ma(x,l,k,!0),window.requestAnimationFrame(ia,h("main"))):ba=aa=!1},ea=function(){0<x&&(I=x=0);0<l&&(J=l=0);var a=t[c-1][0]*e[c];z&&(a*=2);var b=a*k;x<a-b&&(x=a-b,I=0);a=t[c-1][1]*e[c];b=a*k;l<a-b&&(l=a-b,J=0)},ma=function(a,b,f,g){a=Math.round(2*a)/2;b=Math.round(2*b)/2;a=g?"translate3d("+(a+d[c])+"px, "+b+"px, 0) scale("+f*e[c]+")":
"translateX("+(a+d[c])+"px) translateY("+b+"px) scale("+f*e[c]+")";b=h("page"+c);C.applyTransform(b,a)},ga=function(a){if(!b[a]){var c=document.createElement("div");c.setAttribute("id","page"+a);c.style.width=z&&1!=a&&(a<p||1===p%2)?2*t[a][0]+"px":t[a-1][0]+"px";c.style.height=t[a-1][1]+"px";oa(a);d[a]=z&&1!=a?window.innerWidth*Math.floor(a/2)+f:window.innerWidth*(a-1)+f;C.applyTransform(c,"translate3d("+d[a]+"px, 0, 0) scale("+e[a]+")");C.applyTransformOrigin(c,"top left");c.style.marginTop=g+"px";
c.style.position="absolute";n.appendChild(c)}b[a]||(F?(b[a]=!0,c=document.createElement("div"),c.setAttribute("style","position: absolute"),h("page"+a).appendChild(c),$(c).load(a+".svg")):$.ajax({url:a+".html",success:function(c){b[a]||(b[a]=!0,c=$("<div />").html(c).find("#jpedal").css("position","absolute"),$("#page"+a).append(c),setTimeout(function(){var b=function(){window["load"+a]()};setTimeout(b,1E3);b()},1))}}));z&&1!=a&&!b[a+1]&&a!=p&&(F?(b[a+1]=!0,c=document.createElement("div"),c.setAttribute("style",
"position: absolute; left: "+t[a][0]+"px"),h("page"+a).appendChild(c),$(c).load(a+1+".svg")):$.ajax({url:a+1+".html",success:function(c){b[a+1]||(b[a+1]=!0,c=$("<div />").html(c).find("#jpedal").css("position","absolute"),(a<p||1===p%2)&&c.css("left",t[a][0]),$("#page"+a).append(c),setTimeout(function(){var b=function(){window["load"+(a+1)]()};setTimeout(b,1E3);b()},1))}}))},oa=function(a){var b;b=z&&1!=a&&(a<p||1===p%2)?(window.innerWidth-20)/(2*t[a][0]):(window.innerWidth-20)/t[a-1][0];var c=(window.innerHeight-
40-20)/t[a-1][1];b<c?(e[a]=b,f=10):(e[a]=c,f=(window.innerWidth-20-(z&&1!=a&&(a<p||1===p%2)?2*t[a][0]*e[a]:t[a-1][0]*e[a]))/2+10);return g=(window.innerHeight-40-t[a-1][1]*e[a])/2};a.goToPage=function(d,e,f){if(1<k)k=1,requestAnimationFrame(function(){ma(0,0,k,!0);a.goToPage(d,e,f)},h("main"));else{K=!0;z&&1!==d&&1===d%2&&--d;1>d&&(d=1);d>p&&(d=p);oa(d);b[d]||ga(d);fa=z?-(window.innerWidth*Math.floor(d/2)):-(window.innerWidth*(d-1));e&&C.applyTransitionDuration(n,"200ms");C.applyTransform(n,"translate3d("+
fa+"px, 0, 0)");z&&1!==d&&1===d%2&&--d;M.setPage(d);f&&window.history.pushState({page:c,slide:e},null,"?page="+c);A.selectedIndex=z?Math.floor(c/2):c-1;var g=function(){var a;K=!1;a=d;z&&1===a&&(a=0);var e=a-1,f=a+1;z&&(--e,f+=1,2===a&&(e=1));1<=e&&!b[e]&&ga(e);f<=p&&!b[f]&&ga(f);C.applyTransitionDuration(n,"");n.removeEventListener("transitionend",g,!1);n.removeEventListener("webkitTransitionEnd",g,!1);if(z)for(e=2;e<=p;e+=2)b[e]&&(e<c-2||e>c+2)&&(b[e]=!1,a=h("page"+e),a.parentNode.removeChild(a),
e<p&&(b[e+1]=!1));else for(e=1;e<=p;e++)b[e]&&(e<c-1||e>c+1)&&(b[e]=!1,a=h("page"+e),a.parentNode.removeChild(a))};e?(n.addEventListener("transitionend",g,!1),n.addEventListener("webkitTransitionEnd",g,!1)):g()}};return a}();v.setBookmarks=N.setBookmarks;v.setDefaultViewMode=function(a){if(a===m.MultiFile||a===m.SplitSpreads||a===m.SingleFile)H=a};var Ba=function(a){for(var b=document.URL,c=b.toString().indexOf("?"),b=-1!=c?b.substr(c+1).split("&"):"",c=0;c<b.length;c++)if(b[c]=b[c].split("="),b[c][0]==
a)return b[c][1];return""};v.toggleOutlines=N.toggleOutlines;var Z=function(a){a.getSelection?a.getSelection().empty?a.getSelection().empty():a.getSelection().removeAllRanges&&a.getSelection().removeAllRanges():a.document.selection&&a.document.selection.empty()},Y=function(){var a={},b,c,e=!1,f=!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),f=!!window.chrome&&!f;"undefined"!==typeof InstallTrigger?(U="-moz-grab",ka="-moz-grabbing"):f?(U="-webkit-grab",ka="-webkit-grabbing"):ka=U="all-scroll";
a.currentSelectMode=S;a.enableTextSelection=function(){this.currentSelectMode=S;da.className="inactive navBtn";K.className="navBtn";r.style.cursor="";var a=function(a){};r.onmousedown=a;document.onmouseup=a;r.onmousemove=a;q===m.MultiFile?X.enableTextSelection():q===m.SplitSpreads?P.enableTextSelection():q===m.SingleFile&&W.enableTextSelection()};a.enablePanning=function(){this.currentSelectMode=T;da.className="navBtn";K.className="inactive navBtn";Z(window);r.style.cursor=U;r.onmousedown=function(a){a=
a||window.event;r.style.cursor=ka;b=a.clientX;c=a.clientY;e=!0;return!1};document.onmouseup=function(a){r.style.cursor=U;e=!1};r.onmousemove=function(a){if(e)return a=a||window.event,r.scrollLeft=r.scrollLeft+b-a.clientX,r.scrollTop=r.scrollTop+c-a.clientY,b=a.clientX,c=a.clientY,!1};q===m.MultiFile?X.enablePanning():q===m.SplitSpreads?P.enablePanning():q===m.SingleFile&&W.enablePanning()};return a}();v.setSelectMode=function(a){aa||(a==S?Y.enableTextSelection():Y.enablePanning())};var Da=function(){var a=
0;self.innerHeight?a=self.innerWidth:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientWidth:document.body&&(a=document.body.clientWidth);return a},ga=function(){var a=r.scrollTop,b=n.offsetHeight;B===L&&(D.selectedIndex=L);4<k?k=4:.25>k&&(k=.25);"undefinded"!==typeof isIE&&isIE&&(g.style.zoom=k);C.applyTransform(g,"translateX(0px) translateY(0px) scale("+k+")");n.style.width=u*k+"px";n.style.height=w*k+"px";var c=Math.floor(100*k);aa||(D.options[0].innerHTML=
c+"%");q==m.SingleFile&&(g.style.width=Math.floor(100/c*100)+"%");r.scrollTop=n.offsetHeight/b*a;pa++;1===pa%2&&E()};v.zoomIn=function(){B=L;k*=1.2;ga()};var Ca=function(){var a=G.selectedIndex;a!=q&&(M.setViewMode(a),q===m.SingleFile&&(r.onscroll=function(a){},D.style.display=""),q=m.IDR,n.innerHTML="",n.setAttribute("style",""),g=document.createElement("div"),g.id="jpedal",n.appendChild(g),B=ja,D.selectedIndex=B,a===m.MultiFile?X.setup(c):a===m.SplitSpreads?P.setup(c):a===m.SingleFile&&(D.style.display=
"none",W.setup(c),E()))};v.zoomUpdate=function(){B=D.selectedIndex;B!=L&&E()};var E=function(){var a,b,d,e,f,g=function(){a=r.clientWidth;q===m.SingleFile&&(u=Q[c].width);k=(a-6)/u},h=function(){a=r.clientWidth;b=r.clientHeight;q==m.SingleFile&&(u=Q[c].width,f=Q[c].height);e=q!=m.SplitSpreads||1!==c&&c!==p?(a-6)/u:(a-6)/(2*u);d=(b-6)/w;q==m.SingleFile&&(d=(b-6)/f);k=e>d?d:e};switch(B){case ja:var l=u;q!==m.SplitSpreads||1!==c&&c!==p||(l=2*u);l>w&&w>r.clientHeight?h():l>Da()&&ha?g():k=1;break;case ta:g();
break;case ua:b=r.clientHeight;d=(b-6)/w;q==m.SingleFile&&(f=Q[c].height,d=(b-6)/f);k=d;break;case va:h();break;case sa:k=1}ga()};v.zoomOut=function(){B=L;k/=1.2;ga()};v.goToPage=function(a){0===a&&(a=parseInt(A.options[A.selectedIndex].value));q===m.IDR?O.goToPage(a,!1,!0):q===m.SplitSpreads?P.goToPage(a,!0):q===m.MultiFile?X.goToPage(a,!0):q===m.SingleFile&&W.goToPage(a,!0)};v.next=function(){q===m.IDR?O.next():q===m.SplitSpreads?c+1<=p&&this.goToPage(c+2):c<p&&this.goToPage(c+1)};v.prev=function(){q===
m.IDR?O.prev():1<c&&this.goToPage(c-1)};var V=function(a,b,c){if(b.addEventListener)b.addEventListener(a,c,!1);else if(b.attachEvent)return b.attachEvent("on"+a,c)},h=function(a){return document.getElementById(a)};v.toggleThumbnails=N.toggleThumbnails;var la=function(){ba.className=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?"navBtn open":"navBtn closed"};v.toggleFullScreen=function(){document.fullscreenElement||document.msFullscreenElement||
document.mozFullScreenElement||document.webkitFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.body.requestFullscreen?document.body.requestFullscreen():document.body.msRequestFullscreen?document.body.msRequestFullscreen():document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():
document.body.webkitRequestFullscreen&&document.body.webkitRequestFullscreen()};v.addToolBarHyperlink=function(a,b){var c=new Image;c.src=a;var e=document.createElement("a");e.href=b;e.className="customNavLink";e.appendChild(c);e.setAttribute("target","_blank");h("mainNav").insertBefore(e,ra)};v.disableViewModeSwitching=function(){qa=!0};v.on=function(a,b){"pagechange"===a?wa=b:"viewmodechange"===a&&(xa=b)};M.setPage=function(a){if(a!=c){var b=wa;b&&b({page:a});c=a}};M.setViewMode=function(a,b){var c=
xa;if(c){var e={viewmode:a};""!=b&&(e.orientation=b);c(e)}};return v}();